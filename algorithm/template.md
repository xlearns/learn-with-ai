# 回溯算法万能模板【伪代码】

```js
function backtrack(路径, 选择列表) {
  if (满足结束条件) {
    将路径添加到结果集;
    return;
  }

  for (选择 of 选择列表) {
    做出选择;
    backtrack(路径, 新的选择列表);
    撤销选择;
  }
}

// 使用方法
const result = []; // 结果集，用于保存最终的解
backtrack([], 初始的选择列表);
console.log(result); // 输出结果集
```

```
说明：
做出选择：表示从当前的可选项中选择一个选项，并作出选择，向前推进探索过程。例如，在N皇后问题中，这意味着在当前行和列的位置上放置一个皇后。
backtrack(路径, 新的选择列表)：在做出选择后，你会递归调用backtrack函数，使用更新后的路径和选择列表进一步探索。这是算法在已作出选择的基础上继续探索决策树的下一层。通过这个步骤，算法将探索可能的选择组合，以找到有效的解。
撤销选择：这一步在你完成了使用当前选择探索所有可能后，需要回溯到之前的状态，以便探索其他路径。这意味着撤销在步骤1中所做的选择，回到作出选择之前的状态。例如，在N皇后问题中，这意味着移除已经放置在棋盘上的皇后，以便探索其他可能的放置方式。
算法之所以采用这种选择、探索和撤销选择的方式，是为了模拟尝试所有可能的选择组合的过程，同时避免无效或冗余的解。回溯允许算法通过只遍历有效的路径，并在达到无效或不可行状态时进行回溯，有效地探索整个搜索空间
```
